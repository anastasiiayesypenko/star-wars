(this["webpackJsonpswa-app"]=this["webpackJsonpswa-app"]||[]).push([[0],{138:function(e,t,a){e.exports=a(228)},228:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),s=a.n(c),i=a(234),o=a(88),l=function(e){var t=e.children;return r.a.createElement(i.a,{className:o.layout},r.a.createElement("header",{className:o.appHeader},"Star Wars App"),t)},u=a(51),d=a(230),m=a(46),p=a(84),b=a(232),_=a(114),f=a(231),S=a(233),g=a(131),h=a(90),v=a.n(h),E=a(76),T=a(113),O={ADD_SAVED_ITEM:"ADD_SAVED_ITEM",SET_SW_LIST:"SET_SW_LIST",SET_SW_LIST_ERROR:"SET_SW_LIST_ERROR",START_SW_LIST_LOADING:"START_SW_LIST_LOADING"},I=a(77),j=a.n(I),L=j.a.create({baseURL:"https://swapi.dev/api/"}),y=j.a.create({baseURL:"https://api.unsplash.com/search/photos?page=1",params:{client_id:"896d4f52c589547b2134bd75ed48742db637fa51810b49b607e37e46ab2c0043"}}),W=function(e){var t=e.query,a=Object(n.useState)(void 0),c=Object(u.a)(a,2),s=c[0],i=c[1],o=Object(n.useState)(!0),l=Object(u.a)(o,2),d=l[0],p=l[1],b=function(){p(!1),i("https://img5.goodfon.com/wallpaper/nbig/d/a7/darth-vader-star-wars-sith-helmet-simple-background-digital.jpg")};return Object(n.useEffect)((function(){var e=!0;return e&&(p(!0),y({params:{query:t}}).then((function(e){p(!1),i(e.data.results&&e.data.results[0]&&e.data.results[0].urls.regular)})).catch((function(){return b()}))),function(){return e=!1}}),[t]),r.a.createElement("div",{className:m.imageWrapper},d?r.a.createElement(_.a,{size:"large"}):r.a.createElement("img",{className:m.tabImage,src:s||"https://img5.goodfon.com/wallpaper/nbig/d/a7/darth-vader-star-wars-sith-helmet-simple-background-digital.jpg",onError:b,alt:"star wars"}))},w=function(e,t){return e.filter((function(e){return e.name.toLowerCase().includes(t)}))},R=Object(p.b)((function(e){return{savedItems:e.savedItems,SWLists:e.SWLists}}),(function(e){return{setSWList:function(t,a){return e(function(e){var t=e.page,a=e.tab;return function(e){e({type:O.START_SW_LIST_LOADING}),L.get("/".concat(a,"/?page=").concat(t)).then(function(){var t=Object(T.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:O.SET_SW_LIST,payload:Object(E.a)({},a,n.data)});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e({type:O.SET_SW_LIST_ERROR,payload:{error:t}})}))}}({page:t,tab:a}))},addSavedItem:function(t){return e({type:O.ADD_SAVED_ITEM,payload:{item:t}})}}}))((function(e){var t=e.activeTab,a=e.savedItems,c=e.SWLists,s=e.setSWList,i=e.addSavedItem,o=Object(n.useState)(1),l=Object(u.a)(o,2),d=l[0],p=l[1],h=Object(n.useState)(""),v=Object(u.a)(h,2),E=v[0],T=v[1];Object(n.useEffect)((function(){var e=!0;return e&&"saved"!==t&&s(d,t),function(){e=!1}}),[d,t,s]),Object(n.useEffect)((function(){var e=!0;return e&&p(1),function(){e=!1}}),[t]);return c.loading?r.a.createElement(_.a,{size:"large",className:m.spin}):r.a.createElement(r.a.Fragment,null,"saved"===t&&Boolean(a.length)&&r.a.createElement(f.a,{className:m.nameFilter,placeholder:"Filter by name",onChange:function(e){T(e.target.value)}}),r.a.createElement(S.b,{itemLayout:"vertical",size:"large",grid:{gutter:16,xs:1,sm:1,md:2,lg:2,xl:2,xxl:2},dataSource:"saved"===t?w(a,E):c[t]&&c[t].results,renderItem:function(e){return r.a.createElement(S.b.Item,{key:e.title,onClick:function(){return function(e){"saved"!==t&&(a.find((function(t){return t.name===e.name}))?b.b.error("".concat(e.name," is already added!")):(b.b.info("".concat(e.name," was saved!")),i(e)))}(e)}},r.a.createElement(W,{query:e.name}),r.a.createElement("p",{className:m.tabTitle},e.name),r.a.createElement("div",{className:m.hoverCover}))}}),r.a.createElement(g.a,{defaultCurrent:d,onChange:function(e){p(e)},total:"saved"===t?w(a,E).length:c[t]&&c[t].count}))})),D=d.a.TabPane,A=[{title:"planets"},{title:"starships"},{title:"saved"}],N=function(){var e=Object(n.useState)("planets"),t=Object(u.a)(e,2),a=t[0],c=t[1];return r.a.createElement(d.a,{className:m.tabPanel,onChange:function(e){c(e)}},A.map((function(e){return r.a.createElement(D,{tab:e.title,key:e.title},r.a.createElement(R,{activeTab:a}))})))};var k=function(){return r.a.createElement(l,null,r.a.createElement(N,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(227);var x=a(53),C=a(129),M=a(135),F=[],P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case O.ADD_SAVED_ITEM:return[n.item].concat(Object(M.a)(e));default:return e}},G=a(50),H={error:null,loading:!0,planets:{},starships:{}},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case O.START_SW_LIST_LOADING:return Object(G.a)(Object(G.a)({},e),{},{loading:!0});case O.SET_SW_LIST:return n.planets?Object(G.a)(Object(G.a)({},e),{},{planets:n.planets,loading:!1}):Object(G.a)(Object(G.a)({},e),{},{starships:n.starships,loading:!1});case O.SET_SW_LIST_ERROR:return Object(G.a)(Object(G.a)({},e),{},{error:n.error,loading:!1});default:return e}},q=Object(x.c)({savedItems:P,SWLists:V}),z=Object(x.a)(C.a),B=Object(x.d)(q,z);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(p.a,{store:B},r.a.createElement(k,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},46:function(e,t,a){e.exports={tabPanel:"Tabs_tabPanel__14cMM",spin:"Tabs_spin__1W7-W",imageWrapper:"Tabs_imageWrapper__3mP2W",tabImage:"Tabs_tabImage__1nm_3",tabTitle:"Tabs_tabTitle__1DMYQ",nameFilter:"Tabs_nameFilter__3_xCr"}},88:function(e,t,a){e.exports={appHeader:"Layout_appHeader__5RC-F",layout:"Layout_layout__2DTHX"}}},[[138,1,2]]]);
//# sourceMappingURL=main.d14c5a38.chunk.js.map